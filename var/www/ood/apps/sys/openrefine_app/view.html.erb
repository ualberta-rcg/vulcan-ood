<div class="alert alert-info" role="alert">
  <h4 class="alert-heading">OpenRefine Server Ready!</h4>
  <p>Your OpenRefine server is now running on port <strong><%= port %></strong>.</p>
  <hr>
  <p class="mb-0">
    <strong>Note:</strong> OpenRefine runs in headless mode and does not require authentication. 
    Click the button below to access your OpenRefine instance.
  </p>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="card">
      <div class="card-header">
        <h5 class="card-title mb-0">
          <i class="fas fa-database"></i> Connect to OpenRefine
        </h5>
      </div>
      <div class="card-body">
        <p class="card-text">
          Access your OpenRefine instance to clean, transform, and reconcile messy data.
        </p>
        <a href="/node/<%= host %>/<%= port %>/" class="btn btn-primary btn-lg" target="_blank">
          <i class="fas fa-external-link-alt"></i> Open OpenRefine
        </a>
      </div>
    </div>
  </div>
  
  <div class="col-md-6">
    <div class="card">
      <div class="card-header">
        <h5 class="card-title mb-0">
          <i class="fas fa-info-circle"></i> Session Information
        </h5>
      </div>
      <div class="card-body">
        <dl class="row">
          <dt class="col-sm-4">Host:</dt>
          <dd class="col-sm-8"><code><%= host %></code></dd>
          
          <dt class="col-sm-4">Port:</dt>
          <dd class="col-sm-8"><code><%= port %></code></dd>
          
          <dt class="col-sm-4">Data Directory:</dt>
          <dd class="col-sm-8"><code>${OPENREFINE_WORKDIR}</code></dd>
          
          <dt class="col-sm-4">Log File:</dt>
          <dd class="col-sm-8"><code>${OPENREFINE_LOG_FILE}</code></dd>
        </dl>
      </div>
    </div>
  </div>
</div>

<div class="mt-4">
  <div class="alert alert-warning" role="alert">
    <h5 class="alert-heading">
      <i class="fas fa-exclamation-triangle"></i> Important Notes
    </h5>
    <ul class="mb-0">
      <li><strong>Data Persistence:</strong> Your OpenRefine projects are saved in your home directory and will persist between sessions.</li>
      <li><strong>Resource Usage:</strong> OpenRefine can be memory-intensive when processing large datasets. Monitor your resource usage.</li>
      <li><strong>Session Timeout:</strong> Your session will end when the job time limit is reached or when you manually stop the job.</li>
      <li><strong>Security:</strong> This OpenRefine instance is only accessible to you and runs in an isolated environment.</li>
    </ul>
  </div>
</div>

<script type="text/javascript">
// Auto-refresh the page every 30 seconds to check if the session is still active
setTimeout(function() {
  location.reload();
}, 30000);
</script>
